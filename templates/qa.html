<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Q&A Forum</title>
</head>
<body>
    <h1>Q&A Forum</h1>

    <!-- Form to Post a New Question -->
    <form action="/post_question" method="POST">
        <textarea name="question_text" placeholder="Your Question" required></textarea>
        <button type="submit">Post Question</button>
    </form>

    <!-- Display All Questions with Answers -->
    {% for question_id, question in questions.items() %}
        <div class="question">
            <p><strong>Question:</strong> {{ question.question_text }}</p>
            <p><em>Asked on {{ question.created_at }}</em></p>

            <!-- Form to Post an Answer to this Question -->
            <form action="/post_answer/{{ question_id }}" method="POST">
                <textarea name="answer_text" placeholder="Your Answer" required></textarea>
                <button type="submit">Post Answer</button>
            </form>

            <!-- List of Answers for this Question -->
            <h3>Answers</h3>
            {% for answer in question.answers %}
                <div class="answer">
                    <p><strong>Answer:</strong> {{ answer.answer_text }}</p>
                    <p><em>Answered on {{ answer.created_at }}</em></p>
                    <form action="/delete_answer/{{ answer.id }}" method="POST">
                        <button type="submit">Delete</button>
                    </form>
                </div>
            {% endfor %}
        </div>
        <hr>
    {% endfor %}
</body>
</html>
